<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Archive | Acid Metal Art Collective</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=Orbitron:wght@400;700;900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <style>
    body {
      background-color: #050505;
      color: #fff;
      overflow-x: hidden;
      font-family: 'Space Mono', monospace;
    }
    .acid-font { font-family: 'Syncopate', sans-serif; }
    .display-font { font-family: 'Orbitron', sans-serif; }

    .glass-morphism {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }

    .artwork-card {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .artwork-card:hover {
      transform: translateY(-8px);
    }
    .artwork-card:hover .artwork-image {
      filter: grayscale(0);
    }
    .artwork-image {
      filter: grayscale(0.5);
      transition: filter 0.4s ease;
    }

    .thumbnail {
      transition: all 0.3s ease;
      opacity: 0.6;
    }
    .thumbnail:hover, .thumbnail.active {
      opacity: 1;
      border-color: #00FF41;
    }

    .fade-enter {
      opacity: 0;
    }
    .fade-enter-active {
      opacity: 1;
      transition: opacity 0.5s ease;
    }

    @keyframes float {
      0% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(30px, -50px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.9); }
      100% { transform: translate(0, 0) scale(1); }
    }

    .blob {
      position: absolute;
      background: linear-gradient(135deg, #e0e0e0 0%, #a1a1a1 50%, #4a4a4a 100%);
      border-radius: 50%;
      mix-blend-mode: exclusion;
      animation: float 10s infinite ease-in-out;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel" data-presets="react">
    const { useState, useEffect, useRef } = React;

    // Sample Artworks Data - Replace with your actual data
    const ARTWORKS = [
      {
        id: 'artwork-001',
        title: 'NEURAL GENESIS',
        titleZh: '神經創世',
        description: 'A manifestation of digital consciousness emerging from the void. Created through neural fluid simulations.',
        descriptionZh: '從虛空中浮現的數位意識體現。通過神經流體模擬創建。',
        price: 0.85,
        edition: '01/10',
        images: [
          'https://picsum.photos/seed/art1-1/800/800',
          'https://picsum.photos/seed/art1-2/800/800',
          'https://picsum.photos/seed/art1-3/800/800',
          'https://picsum.photos/seed/art1-4/800/800'
        ]
      },
      {
        id: 'artwork-002',
        title: 'CHROME DISSOLUTION',
        titleZh: '鉻合金消融',
        description: 'Liquid metal fragments suspended in eternal motion. A meditation on impermanence.',
        descriptionZh: '懸浮在永恆運動中的液態金屬碎片。對無常的冥想。',
        price: 1.20,
        edition: '01/05',
        images: [
          'https://picsum.photos/seed/art2-1/800/800',
          'https://picsum.photos/seed/art2-2/800/800',
          'https://picsum.photos/seed/art2-3/800/800'
        ]
      },
      {
        id: 'artwork-003',
        title: 'VOID RECURSION',
        titleZh: '虛空遞迴',
        description: 'Infinite loops of darkness consuming themselves. The ouroboros of the digital age.',
        descriptionZh: '無限循環的黑暗吞噬自身。數位時代的銜尾蛇。',
        price: 2.50,
        edition: '01/03',
        images: [
          'https://picsum.photos/seed/art3-1/800/800',
          'https://picsum.photos/seed/art3-2/800/800'
        ]
      },
      {
        id: 'artwork-004',
        title: 'ACID MEMBRANE',
        titleZh: '酸性膜',
        description: 'The boundary between digital and organic, dissolving in real-time.',
        descriptionZh: '數位與有機之間的邊界，實時溶解。',
        price: 0.65,
        edition: '01/20',
        images: [
          'https://picsum.photos/seed/art4-1/800/800',
          'https://picsum.photos/seed/art4-2/800/800',
          'https://picsum.photos/seed/art4-3/800/800'
        ]
      }
    ];

    // EmailJS Configuration - You need to set up your own EmailJS account
    const EMAILJS_SERVICE_ID = 'YOUR_SERVICE_ID';
    const EMAILJS_TEMPLATE_ID = 'YOUR_TEMPLATE_ID';
    const EMAILJS_PUBLIC_KEY = 'YOUR_PUBLIC_KEY';

    // Background Component
    const LiquidBackground = () => (
      <div className="fixed inset-0 z-[-1] overflow-hidden pointer-events-none">
        <div className="absolute inset-0 bg-black opacity-90"></div>
        <div className="w-full h-full relative opacity-30">
          <div className="blob w-[400px] h-[400px] top-[10%] left-[10%] bg-white/20 blur-xl"></div>
          <div className="blob w-[500px] h-[500px] top-[40%] left-[50%] bg-zinc-400/30 blur-2xl" style={{ animationDelay: '-2s' }}></div>
          <div className="blob w-[350px] h-[350px] bottom-[10%] right-[20%] bg-zinc-600/40 blur-xl" style={{ animationDelay: '-5s' }}></div>
        </div>
      </div>
    );

    // Artwork Card Component
    const ArtworkCard = ({ artwork, lang, onClick }) => (
      <div
        className="artwork-card cursor-pointer group"
        onClick={() => onClick(artwork)}
      >
        <div className="relative aspect-square overflow-hidden glass-morphism mb-4">
          <img
            src={artwork.images[0]}
            alt={lang === 'zh' ? artwork.titleZh : artwork.title}
            className="artwork-image w-full h-full object-cover"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          <div className="absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
            <div className="text-[10px] text-zinc-400 uppercase tracking-widest mb-1">
              {lang === 'zh' ? '點擊查看詳情' : 'Click to view details'}
            </div>
          </div>
        </div>
        <h3 className="acid-font text-lg font-bold mb-2 group-hover:text-[#00FF41] transition-colors">
          {lang === 'zh' ? artwork.titleZh : artwork.title}
        </h3>
        <p className="text-xs text-zinc-500 mb-3 line-clamp-2">
          {lang === 'zh' ? artwork.descriptionZh : artwork.description}
        </p>
        <div className="flex justify-between items-center">
          <span className="display-font text-sm font-bold">{artwork.price} ETH</span>
          <span className="text-[10px] text-zinc-600 uppercase tracking-widest">{artwork.edition}</span>
        </div>
      </div>
    );

    // Product Detail Modal
    const ProductDetail = ({ artwork, lang, onClose }) => {
      const [currentImage, setCurrentImage] = useState(0);
      const [isTransitioning, setIsTransitioning] = useState(false);
      const [formData, setFormData] = useState({
        name: '',
        email: '',
        address: '',
        city: '',
        country: '',
        phone: '',
        notes: ''
      });
      const [isSubmitting, setIsSubmitting] = useState(false);
      const [submitStatus, setSubmitStatus] = useState(null);

      const handleImageChange = (index) => {
        if (index === currentImage) return;
        setIsTransitioning(true);
        setTimeout(() => {
          setCurrentImage(index);
          setIsTransitioning(false);
        }, 300);
      };

      const handleInputChange = (e) => {
        setFormData({ ...formData, [e.target.name]: e.target.value });
      };

      const handleSubmit = async (e) => {
        e.preventDefault();
        setIsSubmitting(true);
        setSubmitStatus(null);

        try {
          // Using EmailJS to send the order
          const templateParams = {
            to_email: 'zhenggdove@gmail.com',
            from_name: formData.name,
            from_email: formData.email,
            artwork_title: lang === 'zh' ? artwork.titleZh : artwork.title,
            artwork_price: `${artwork.price} ETH`,
            artwork_edition: artwork.edition,
            customer_address: formData.address,
            customer_city: formData.city,
            customer_country: formData.country,
            customer_phone: formData.phone,
            customer_notes: formData.notes
          };

          // For demo purposes, we'll simulate sending
          // In production, uncomment the emailjs.send line and set up your EmailJS account
          // await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams, EMAILJS_PUBLIC_KEY);

          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 1500));

          setSubmitStatus('success');
          setFormData({ name: '', email: '', address: '', city: '', country: '', phone: '', notes: '' });
        } catch (error) {
          console.error('Error sending email:', error);
          setSubmitStatus('error');
        } finally {
          setIsSubmitting(false);
        }
      };

      return (
        <div className="fixed inset-0 z-[100] bg-black/95 backdrop-blur-md overflow-y-auto">
          {/* Close Button */}
          <button
            onClick={onClose}
            className="fixed top-6 right-6 z-[101] w-12 h-12 flex items-center justify-center text-2xl text-zinc-400 hover:text-white transition-colors glass-morphism rounded-full"
          >
            ×
          </button>

          <div className="container mx-auto px-6 py-20">
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-12">
              {/* Left: Images */}
              <div>
                {/* Main Image */}
                <div className="relative aspect-square glass-morphism overflow-hidden mb-4">
                  <img
                    src={artwork.images[currentImage]}
                    alt={lang === 'zh' ? artwork.titleZh : artwork.title}
                    className={`w-full h-full object-cover transition-opacity duration-300 ${isTransitioning ? 'opacity-0' : 'opacity-100'}`}
                  />
                </div>

                {/* Thumbnails */}
                <div className="flex gap-3">
                  {artwork.images.map((img, idx) => (
                    <button
                      key={idx}
                      onClick={() => handleImageChange(idx)}
                      className={`thumbnail flex-1 aspect-square overflow-hidden border-2 ${currentImage === idx ? 'active border-[#00FF41]' : 'border-zinc-800'}`}
                    >
                      <img src={img} alt={`Detail ${idx + 1}`} className="w-full h-full object-cover" />
                    </button>
                  ))}
                </div>
              </div>

              {/* Right: Info & Purchase Form */}
              <div>
                <div className="text-[10px] text-zinc-500 uppercase tracking-[0.3em] mb-2">
                  {lang === 'zh' ? '作品詳情' : 'Artwork Details'}
                </div>
                <h1 className="acid-font text-3xl md:text-5xl font-black mb-4" style={{ color: '#00FF41' }}>
                  {lang === 'zh' ? artwork.titleZh : artwork.title}
                </h1>
                <p className="text-zinc-400 mb-8 leading-relaxed">
                  {lang === 'zh' ? artwork.descriptionZh : artwork.description}
                </p>

                <div className="flex gap-8 mb-8 py-6 border-y border-zinc-800">
                  <div>
                    <div className="text-[9px] text-zinc-600 uppercase tracking-widest mb-1">
                      {lang === 'zh' ? '價格' : 'Price'}
                    </div>
                    <div className="display-font text-2xl font-black">{artwork.price} ETH</div>
                  </div>
                  <div>
                    <div className="text-[9px] text-zinc-600 uppercase tracking-widest mb-1">
                      {lang === 'zh' ? '版本' : 'Edition'}
                    </div>
                    <div className="display-font text-2xl font-black">{artwork.edition}</div>
                  </div>
                </div>

                {/* Purchase Form */}
                <form onSubmit={handleSubmit} className="space-y-4">
                  <div className="text-[10px] text-zinc-500 uppercase tracking-[0.2em] mb-4">
                    {lang === 'zh' ? '購買資訊' : 'Purchase Information'}
                  </div>

                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                        {lang === 'zh' ? '姓名' : 'Name'} *
                      </label>
                      <input
                        type="text"
                        name="name"
                        required
                        value={formData.name}
                        onChange={handleInputChange}
                        className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                      />
                    </div>
                    <div>
                      <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                        {lang === 'zh' ? '電子郵件' : 'Email'} *
                      </label>
                      <input
                        type="email"
                        name="email"
                        required
                        value={formData.email}
                        onChange={handleInputChange}
                        className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                      />
                    </div>
                  </div>

                  <div>
                    <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                      {lang === 'zh' ? '地址' : 'Address'} *
                    </label>
                    <input
                      type="text"
                      name="address"
                      required
                      value={formData.address}
                      onChange={handleInputChange}
                      className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                    />
                  </div>

                  <div className="grid grid-cols-2 gap-4">
                    <div>
                      <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                        {lang === 'zh' ? '城市' : 'City'} *
                      </label>
                      <input
                        type="text"
                        name="city"
                        required
                        value={formData.city}
                        onChange={handleInputChange}
                        className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                      />
                    </div>
                    <div>
                      <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                        {lang === 'zh' ? '國家' : 'Country'} *
                      </label>
                      <input
                        type="text"
                        name="country"
                        required
                        value={formData.country}
                        onChange={handleInputChange}
                        className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                      />
                    </div>
                  </div>

                  <div>
                    <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                      {lang === 'zh' ? '電話' : 'Phone'}
                    </label>
                    <input
                      type="tel"
                      name="phone"
                      value={formData.phone}
                      onChange={handleInputChange}
                      className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors"
                    />
                  </div>

                  <div>
                    <label className="text-[9px] text-zinc-600 uppercase tracking-widest block mb-1">
                      {lang === 'zh' ? '備註' : 'Notes'}
                    </label>
                    <textarea
                      name="notes"
                      rows={3}
                      value={formData.notes}
                      onChange={handleInputChange}
                      className="w-full bg-black/50 border border-zinc-800 p-3 text-sm focus:outline-none focus:border-[#00FF41] transition-colors resize-none"
                    />
                  </div>

                  <button
                    type="submit"
                    disabled={isSubmitting}
                    className="w-full py-5 bg-[#00FF41] text-black font-black uppercase tracking-[0.3em] text-sm hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                  >
                    {isSubmitting
                      ? (lang === 'zh' ? '提交中...' : 'Submitting...')
                      : (lang === 'zh' ? '確認購買' : 'Confirm Purchase')}
                  </button>

                  {submitStatus === 'success' && (
                    <div className="p-4 bg-green-900/30 border border-green-600/50 text-green-400 text-sm text-center">
                      {lang === 'zh'
                        ? '訂單已提交！我們會盡快與您聯繫。'
                        : 'Order submitted! We will contact you soon.'}
                    </div>
                  )}

                  {submitStatus === 'error' && (
                    <div className="p-4 bg-red-900/30 border border-red-600/50 text-red-400 text-sm text-center">
                      {lang === 'zh'
                        ? '提交失敗，請稍後再試或直接聯繫我們。'
                        : 'Submission failed. Please try again or contact us directly.'}
                    </div>
                  )}

                  <p className="text-[8px] text-center text-zinc-600 uppercase tracking-widest">
                    {lang === 'zh'
                      ? '提交後我們會通過郵件與您確認訂單詳情'
                      : 'We will confirm order details via email after submission'}
                  </p>
                </form>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // Main App
    const App = () => {
      const [lang, setLang] = useState('en');
      const [selectedArtwork, setSelectedArtwork] = useState(null);

      return (
        <div className="relative min-h-screen">
          <LiquidBackground />

          {/* Language Switcher */}
          <div className="fixed top-8 right-8 z-40">
            <button
              onClick={() => setLang(l => l === 'en' ? 'zh' : 'en')}
              className="glass-morphism px-3 py-1 text-[10px] font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-all border border-white/20"
            >
              {lang === 'en' ? 'ZH' : 'EN'}
            </button>
          </div>

          <main className="relative z-10 container mx-auto px-6 py-12">
            {/* Header */}
            <nav className="flex justify-between items-center mb-16">
              <a href="index.html" className="display-font text-sm font-black italic tracking-tighter opacity-80 hover:opacity-100 transition-opacity">
                ← {lang === 'zh' ? '返回首頁' : 'Back to Home'}
              </a>
              <div className="flex gap-8 text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-500">
                <span className="text-white">Archive</span>
                <a href="fragments.html" className="hover:text-white transition-colors">Fragments</a>
              </div>
            </nav>

            {/* Page Title */}
            <div className="text-center mb-16">
              <h1 className="acid-font text-4xl md:text-6xl font-black mb-4" style={{ color: '#00FF41' }}>
                {lang === 'zh' ? '作品檔案' : 'ARCHIVE'}
              </h1>
              <p className="text-zinc-500 text-sm max-w-xl mx-auto">
                {lang === 'zh'
                  ? '探索我們的數位藝術收藏。每件作品都是獨特的創作。'
                  : 'Explore our collection of digital art. Each piece is a unique creation.'}
              </p>
            </div>

            {/* Artworks Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
              {ARTWORKS.map(artwork => (
                <ArtworkCard
                  key={artwork.id}
                  artwork={artwork}
                  lang={lang}
                  onClick={setSelectedArtwork}
                />
              ))}
            </div>

            {/* Footer */}
            <footer className="mt-24 pt-12 border-t border-zinc-900 text-center opacity-40">
              <div className="display-font text-xs">ACID_LABS © 2024</div>
            </footer>
          </main>

          {/* Product Detail Modal */}
          {selectedArtwork && (
            <ProductDetail
              artwork={selectedArtwork}
              lang={lang}
              onClose={() => setSelectedArtwork(null)}
            />
          )}
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
